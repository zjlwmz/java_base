<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>内部类</title>
</head>
<body>
内部类作用:
1.提供更好封装:可以将内部类隐藏外部类内,不允许同一个包的其他类访问.
2.内部类成员可以直接访问外部类私有数据,外部类不能访问内部类细节.
3.匿名内部类适合创建仅需一次使用的类.如命令模式传入的执行行为.

内部类 : 1.局部内部类(非类成员)
            1.1 局部内部类
                内部类在方法内定义.
            1.2 匿名内部类
                1.2.1   匿名内部类不能是抽象类
                        匿名内部类不能定义构造器,但可以有初始化块
                        匿名内部类若访问外部变量须final修饰<a href="Talk.java"></a>
        2.成员内部类
            2.1 静态内部类 static修饰
                2.1.1 静态内部类只能访问外部类静态成员
            2.2 非静态内部类
                2.2.1 四个作用域:同类/同包/父子类/任何位置
                2.2.2 使用this/OUT.this来区分外部类属性/内部类方法变量<a href="DiscernVariable.java"></a>
                2.2.3 非静态内部类不能包含静态成员
使用内部类: 1.在外部类内部使用内部类
            2.在外部类以外使用非静态内部类    <a href="CreateInnerClass.java"></a>
                2.1 省略控制符的内部类,只能被与外部类同包其他类访问.
                    使用protected修饰内部类,可被外部类处于同包中其他类和外部类子类所访问
                    public修饰内部类,可任何地方访问.
                    Out.In in = new Out().new In();
            3.在外部类以外使用静态内部类 <a href="LocalInnerClass.java"></a>
                    StaticOut.StaticIn in = new StaticOut.In();
闭包和回调:
            闭包(Closure)是一种能被调用的对象,保存了创建它的作用域的信息
            回调是允许通过内部类引用调用其外部类方法.
枚举类:
        1.枚举值代表了该枚举类的所有可能实例
对象与垃圾回收:
        1.垃圾回收机制:
            1.1 垃圾回收机制只负责回收堆内存中对象,不回收物力资源.
            1.2 程序无法精确控制垃圾回收,对象在永久性失去引用后,系统回收
            1.3 垃圾回收对象之前,先调用它的finalize方法,该方法可能使该对象重新复活.
        2.对象在内存中的状态
            2.1 激活状态: 对象被创建,有一个以上引用
            2.2 去活状态: 不再有引用,系统调用finalize方法回收
            2.3 死亡状态: 永久失去引用,回收内存
        3.对象的软弱虚引用
            3.1 强引用(StrongReference) 激活态,不会被回收
            3.2 软引用(SoftReference) 当内存不足时,系统将回收
            3.3 弱引用(WeakReference),只有弱引用对象会在垃圾回收时被回收
            3.4 虚引用(PhantomReference),虚引用等于没引用,主要用于跟踪垃圾回收状态

</body>
</html>